---
import BaseHead from "@/BaseHead.astro";
import Header from "layouts:Header";
import Footer from "layouts:Footer";
import i18next from "i18next";
import { detectLocaleFromPath } from "astro-i18next";
import { getHeadMeta } from "@lib/api";

const locale = detectLocaleFromPath( Astro.url.pathname );
i18next.changeLanguage(locale);

const meta = await getHeadMeta(Astro.url.pathname);
---
<html lang={i18next.language} class="scroll-smooth">
	<head set:html={meta.head}>
		<BaseHead />
	</head>

	<body>
		<Header />
		<slot></slot>
		<Footer />
	</body>
</html>
